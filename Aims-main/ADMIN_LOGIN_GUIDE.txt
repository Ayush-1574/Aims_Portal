#!/bin/bash
# Quick Admin Login Test Guide

echo "✅ ADMIN LOGIN TROUBLESHOOTING GUIDE"
echo "===================================="
echo ""
echo "Step 1: Verify Admin User in MongoDB"
echo "Go to MongoDB Atlas → Collections → users"
echo "You should see:"
echo "  name: 'Admin'"
echo "  email: 'ayushsonika11@gmail.com'  (MUST be a real email)"
echo "  role: 'admin'"
echo "  isActive: true"
echo ""
echo "Step 2: If admin not found, create manually:"
echo "db.users.insertOne({"
echo "  name: 'Admin',"
echo "  email: 'ayushsonika11@gmail.com',"
echo "  role: 'admin',"
echo "  isActive: true,"
echo "  data: {},"
echo "  roleHistory: []"
echo "})"
echo ""
echo "Step 3: Start Servers"
echo "Terminal 1: cd server && npm start"
echo "Terminal 2: cd aims && npm run dev"
echo ""
echo "Step 4: Login"
echo "1. Go to http://localhost:5173"
echo "2. Email: ayushsonika11@gmail.com"
echo "3. Click 'Send OTP'"
echo "4. Check Gmail inbox (ayushsonika11@gmail.com)"
echo "5. Copy OTP and paste"
echo "6. You should be redirected to /admin/dashboard ✓"
echo ""
echo "Issues & Solutions:"
echo "- OTP not received: Check email is real (not @aims.com)"
echo "- Invalid OTP error: Make sure email matches exactly in DB"
echo "- Not redirected to admin dashboard: Check browser console for errors"
echo "- CORS errors: Both servers running? Frontend on 5173?"
echo ""
